{"version":3,"file":"js/345.ac345168.js","mappings":"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","sources":["webpack://twofourvue/./src/views/page/ManAge.vue","webpack://twofourvue/src/views/page/ManAge.vue","webpack://twofourvue/./src/views/page/ManAge.vue?7745","webpack://twofourvue/./src/views/page/ManAge.vue?0685"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"Mate_Box\"}},[_c('div',{staticClass:\"Mate_left\"},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"#\",\"on-change\":_vm.handlePreview,\"file-list\":_vm.fileList,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"上传到服务器\")])],1)],1),_c('div',{staticClass:\"Mate_right\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"素材\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}}),_c('img',{staticClass:\"Mate_img\",attrs:{\"src\":'https://testshool.zzgoodqc.cn' + scope.row.imgurl,\"alt\":\"\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"类别\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.type == '1' ? '分类' : '服务'))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"Mate_Box\">\r\n        <div class=\"Mate_left\">\r\n            <el-upload class=\"upload-demo\" ref=\"upload\" action=\"#\" :on-change=\"handlePreview\" :file-list=\"fileList\"\r\n                :auto-upload=\"false\">\r\n                <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\r\n                <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUpload\">上传到服务器</el-button>\r\n\r\n            </el-upload>\r\n        </div>\r\n\r\n        <div class=\"Mate_right\">\r\n            <el-table :data=\"tableData\" style=\"width: 100%;\">\r\n                <el-table-column label=\"素材\" width=\"240\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span style=\"margin-left: 10px\"></span>\r\n                        <img class=\"Mate_img\" :src=\"'https://testshool.zzgoodqc.cn' + scope.row.imgurl\" alt=\"\">\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"类别\" width=\"200\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.type == '1' ? '分类' : '服务' }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"200\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { dispicture, addpicture, uplpicture, deipicture } from '@/api/http'\r\nimport '@/linglei/buttonStyles.css'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            fileList: [],\r\n            //素材渲染数组\r\n            tableData: [\r\n                {\r\n                    imgurl: '',\r\n                    type: '',\r\n                    id: ''\r\n                },\r\n            ],\r\n            //上传时转换成Base64的图片路径字段\r\n            imgurl: \"\"\r\n        }\r\n    },\r\n    created() {\r\n        this.RenderPage()\r\n    },\r\n\r\n    methods: {\r\n        //渲染素材库\r\n        RenderPage() {\r\n            dispicture().then(res => {\r\n                this.tableData = res.data.data\r\n            })\r\n        },\r\n\r\n        //添加图片\r\n        submitUpload() {\r\n            if (!this.imgurl) {\r\n                // 如果图片地址为空，即用户未选择任何图片\r\n                this.$message({\r\n                    type: 'warning',\r\n                    message: '请先选择要上传的图片'\r\n                });\r\n                return; // 终止上传操作\r\n            }\r\n\r\n            addpicture({ imgurl: this.imgurl }).then(res => {\r\n                console.log(res);\r\n                if (res.code === 0) {\r\n                    this.RenderPage();\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '上传服务器成功!'\r\n                    });\r\n                } else if (res.code === 2) {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '上传失败，数据不能为空'\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        ,\r\n\r\n\r\n        //图片添加时获取路径\r\n        handlePreview(file) {\r\n            this.getBase64(file.raw).then(resBase64 => {\r\n                uplpicture({ imgurl: resBase64 }).then(res => {\r\n                    this.imgurl = res.data.url\r\n                })\r\n            })\r\n        },\r\n\r\n        //转换base64\r\n        getBase64(file) {\r\n            // 判断如果没有选择文件提醒他先择文件\r\n            return new Promise((resolve, reject) => {\r\n                let reader = new FileReader();\r\n                let fileResult = \"\";\r\n                reader.readAsDataURL(file);\r\n                //开始转\r\n                reader.onload = function () {\r\n                    fileResult = reader.result;\r\n                };\r\n                //转 失败\r\n                reader.onerror = function (error) {\r\n                    reject(error);\r\n                };\r\n                //转 结束  咱就 resolve 出去\r\n                reader.onloadend = function () {\r\n                    resolve(fileResult);\r\n                };\r\n            });\r\n        },\r\n\r\n        handleEdit(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        //删除按钮\r\n        handleDelete(row) {\r\n            this.$confirm('此操作将永久删除, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                deipicture({ id: row.id }).then(res => {\r\n                    console.log(res);\r\n                    this.RenderPage()\r\n                })\r\n                this.$message({\r\n                    type: 'success',\r\n                    message: '删除成功!'\r\n                });\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                });\r\n            });\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.upload-demo {\r\n    text-align: left;\r\n    line-height: 0;\r\n\r\n    button {\r\n        margin-top: 30px;\r\n        margin-bottom: 20px;\r\n        margin-left: 30px;\r\n    }\r\n}\r\n\r\n#Mate_Box .Mate_right::-webkit-scrollbar {\r\n    display: none;\r\n}\r\n\r\n#Mate_Box {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    background-color: #ffffff;\r\n    /* 隐藏滚动条 */\r\n\r\n    .Mate_left {\r\n        width: 30%;\r\n        height: 100%;\r\n    }\r\n\r\n    .Mate_right {\r\n        overflow: auto !important;\r\n\r\n        width: 60%;\r\n        height: 100%;\r\n\r\n        img {\r\n            width: 100px;\r\n            height: 100px;\r\n        }\r\n    }\r\n}\r\n\r\n.el-table__cell {\r\n    height: 80px !important;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManAge.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManAge.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ManAge.vue?vue&type=template&id=332cdb3e&scoped=true\"\nimport script from \"./ManAge.vue?vue&type=script&lang=js\"\nexport * from \"./ManAge.vue?vue&type=script&lang=js\"\nimport style0 from \"./ManAge.vue?vue&type=style&index=0&id=332cdb3e&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"332cdb3e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","ref","handlePreview","fileList","slot","_v","staticStyle","on","submitUpload","tableData","scopedSlots","_u","key","fn","scope","row","imgurl","_s","type","$event","handleDelete","staticRenderFns","data","id","created","RenderPage","methods","dispicture","then","res","addpicture","console","log","code","$message","message","file","getBase64","raw","resBase64","uplpicture","url","Promise","resolve","reject","reader","FileReader","fileResult","readAsDataURL","onload","result","onerror","error","onloadend","handleEdit","index","$confirm","confirmButtonText","cancelButtonText","deipicture","catch","component"],"sourceRoot":""}